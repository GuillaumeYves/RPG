<div style="display: flex; flex-direction: column; align-items: center;">

    <div style="display: flex; flex-direction: row; margin-bottom: 20px;">
        <!-- Character Card -->
            <div class="card text-left" style="border: 2px solid #000; padding: 30px; max-height: auto; width: 500px; margin-right: 200px;">
                <div class="card-body">
                    <%= image_tag(@selected_character.race_image, style: 'width:100%; height:auto; border-radius:30%; margin-bottom:30px; box-shadow: 5px 5px 10px #888888;', class: 'card-img-top', alt: @selected_character.race_image) %>
                    <h3 class="card-header text-white bg-primary" style="text-align: center;"><%= @selected_character.character_name %></h3>
                    <p>Health: <%= @selected_character.health %></p>
                    <div class="progress" style="height: 10px;">
                        <div class="progress-bar bg-success" role="progressbar" style="width: <%= (@selected_character.health.to_f / 100) * 100 %>%;"></div>
                    </div>
                </div>
            </div>

        <!-- Monster Card -->
            <div class="card text-left" style="border: 2px solid #000; padding: 30px; max-height: auto; width: 500px; margin-left: 200px">
                <div class="card-body">
                    <%= image_tag(@monster.monster_image, style: 'width:100%; height:auto; border-radius:30%; margin-bottom:30px; box-shadow: 5px 5px 10px #888888;', class: 'card-img-top', alt: @monster.monster_image) %>
                    <h3 class="card-header text-right text-white bg-primary" style="text-align: center;"><%= @monster.monster_name %></h3>
                    <p>Health: <%= @monster.health %></p>
                    <div class="progress" style="height: 10px;">
                        <div class="progress-bar bg-danger" role="progressbar" style="width: <%= (@monster.health.to_f / 100) * 100 %>%;"></div>
                    </div>
                </div>
            </div>
    </div>

    <!-- Victory or Defeat Prompt -->
    <% if @combat_result == 'victory' %>
        <h3 class="text-success">Victory</h3>
        <%= form_tag(complete_hunt_character_path(@selected_character), method: :post) do %>
            <%= hidden_field_tag :experience_reward, @hunt.experience_reward %>
            <%= hidden_field_tag :hunt_id, @hunt.id %>
            <%= submit_tag 'Complete Hunt', class: 'btn btn-success' %>
        <% end %>
    <% elsif @combat_result == 'defeat' %>
        <h3 class="text-danger">Defeat Click <a href="<%= hunts_path %>">here</a> to return to hunts.</h3>
    <% end %>
    <br>
    <!-- Combat Log Card -->
    <div class="card text-left" style="border: 2px solid #000; padding: 15px; height: 500px; width: 1000px; overflow: auto;">
    <h3 class="card-header text-right text-white bg-primary" style="text-align: center; margin-bottom: 20px;">Combat log</h3>
        <div class="combat-log" style="box-shadow: 2px 2px 10px #888888;">
        <% @combat_log.each_with_index do |turn, index| %>
            <div class="log-text" style="text-align: center;">
            <% if turn.size == 1 && turn[0].include?('defeated') %>
                <% log_parts = turn[0].split(' has defeated ') %>
                <br>
                <p style="font-weight: bold"><span class="text-success"><%= log_parts[0] %></span> has defeated <span class="text-danger"><%= log_parts[1] %></span>.</p>
                <br>
            <% else %>
                <p><strong><%= index == @combat_log.size - 1 ? 'Combat Ended<br>' : "Turn #{index + 1}" %></strong></p>
                <% turn.each do |log| %>
                <p><%= log %></p>
                <% end %>
            <% end %>
            <% unless index == @combat_log.size - 1 %>
                <hr>
            <% end %>
            </div>
        <% end %>
        </div>
    </div>
</div>
