
<div class="container">
    <div style="display: flex; flex-direction: row; margin-bottom: 20px; ">
        <!-- Character Card -->
        <div class="card text-left" style="border: 2px solid #000; box-shadow: 5px 5px 10px #888888; padding: 20px; height: 500px; width: 500px; margin-right: 200px;">
          <div style="position: relative; max-width: 100%;">
            <%= image_tag(@character.race_image, style: 'max-width:100%; height:auto; border: 5px solid #000; box-shadow: 2px 2px 10px #888888;', class: 'card-img-top', alt: "character_image") %>
            <h5 style="position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); color: white; font-size: 24px; font-weight: bold; text-shadow: -2px -2px 2px #000, 2px -2px 2px #000, -2px 2px 2px #000, 2px 2px 2px #000; width: 90%; text-align: center;"><%= @character.character_name %></h5>
          </div>
            <div class="progress" style="height: 50px; border: 2px solid #000; box-shadow: 2px 2px 10px #888888; position: relative; margin-top : 20px;">
              <div class="progress-bar bg-success" role="progressbar" style="width: <%= (@character.health.to_f / @character.max_health) * 100 %>%;"></div>
              <h6 style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"><%= @character.health %> / <%= @character.max_health %></h6>
            </div>
        </div>
                   
            <!-- Opponent Card -->
            <div class="card text-left" style="border: 2px solid #000; box-shadow: 5px 5px 10px #888888; padding: 20px; height: 500px; width: 500px; margin-right: 200px;">
                <% if @opponent.is_a?(Monster) %>
                <div style="position: relative; max-width: 100%;">
                    <%= image_tag(@opponent.monster_image, style: 'max-width:100%; height:auto; border: 5px solid #000; box-shadow: 2px 2px 10px #888888;', class: 'card-img-top', alt: "opponent_image") %>
                    <h5 style="position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); color: white; font-size: 24px; font-weight: bold; text-shadow: -2px -2px 2px #000, 2px -2px 2px #000, -2px 2px 2px #000, 2px 2px 2px #000; width: 90%; text-align: center;"><%= @opponent.monster_name %></h5>
                </div>
                <% elsif @opponent.is_a?(Character) %>
                <div style="position: relative; max-width: 100%;">
                    <%= image_tag(@opponent.race_image, style: 'max-width:100%; height:auto; border: 5px solid #000; box-shadow: 2px 2px 10px #888888;', class: 'card-img-top', alt: "opponent_image") %>
                    <h5 style="position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); color: white; font-size: 24px; font-weight: bold; text-shadow: -2px -2px 2px #000, 2px -2px 2px #000, -2px 2px 2px #000, 2px 2px 2px #000; width: 90%; text-align: center;"><%= @opponent.character_name %></h5>
                </div>
                <% end %>
                    <div class="progress" style="height: 50px; border: 2px solid #000; box-shadow: 2px 2px 10px #888888; position: relative; margin-top : 20px;">
                        <div class="progress-bar bg-danger" role="progressbar" style="width: <%= (@opponent.health.to_f / @opponent.max_health) * 100 %>%;"></div>
                        <h6 style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"><%= @opponent.health %> / <%= @opponent.max_health %></h6>
                    </div>
            </div>
           
    </div>

    <!-- Victory or Defeat Prompt -->
    <% if @combat_result == 'Victory' %>
        <h3 class="text-success">Victory</h3>
            <%= form_tag(complete_hunt_character_path(@selected_character), method: :post) do %>
                <%= hidden_field_tag :experience_reward, @hunt.experience_reward %>
                <%= hidden_field_tag :hunt_id, @hunt.id %>
                <%= submit_tag 'Complete Hunt', class: 'btn btn-success' %>
            <% end %>
    <% elsif @combat_result == 'Defeat' %>
            <h3 class="text-danger">Defeat Click <a href="<%= hunts_path %>">here</a> to return to hunts.</h3>
    <% end %>
    <br>
        <!-- Display combat log -->
        <div class="container">
            <div class="row">
                <div class="col-md-8 offset-md-2 mt-4">
                    <div class="card">
                        <div class="card-body">
                            <h2 class="card-title text-center">
                                Combat Result: <%= @combat_result %>
                            </h2>
                                <div class="combat-log">
                                    <% @combat_logs.each do |log| %>
                                    <p><%= log %></p>
                                    <hr>
                                    <% end %>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</div>